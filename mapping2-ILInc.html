<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Yoon Hong Park" />


<title>Illinois Income Distribution Mapping</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("section-TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Yoon's Archive</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About me</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Program Evaluation (R/Stata)
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="PE_pset3.html">Ban the Box (DID)</a>
    </li>
    <li>
      <a href="PS2-f2018.html">Very Low Birth Weight (RDD)</a>
    </li>
    <li>
      <a href="pePS1.html">Mexican Universal Health Insurance (ITT/LATE)</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    GIS and Spatial Analysis (R)
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="mapping3-ChiTrauma.html">Chicago Trauma Center Service Area</a>
    </li>
    <li>
      <a href="mapping2-ILInc.html">Illinois Income Distribution</a>
    </li>
    <li>
      <a href="mapping1-ChiHIV.html">Chicago HIV Prevalence</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Policy Analysis (R)
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Rps4.html">Health Care Data</a>
    </li>
    <li>
      <a href="Rps3.html">Flight Data 2</a>
    </li>
    <li>
      <a href="Rps2.html">Flight Data 1</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Programming (Python)
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Scraping</li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="section-header">



<h1 class="title toc-ignore">Illinois Income Distribution Mapping</h1>
<h4 class="author"><em>Yoon Hong Park</em></h4>
<h4 class="date"><em>July 2, 2018</em></h4>

</div>


<p><br><br></p>
<p>This project was one of three assignments from the “Introduction to GIS and Spatial Analysis for Social Scientists” course taught by Dr. Marynia Kolak. This mapping project was an effort to present the distribution of income level accross the State of Illinois. Income data, a subset of American Community Survey, were collected from the American FactFinder, which is the data portal of the United States Census Bureau. The purpose of this project was to create multifaceted maps to compare maps from different levels of analysis, so I used two different folders for two levels of analysis, county-level and tract-level.</p>
<p><br><br></p>
<div id="section-basic-setup" class="section level2">
<h2><strong>Basic Setup</strong></h2>
<p><br></p>
<div id="section-load-libraries" class="section level3">
<h3><strong>Load Libraries</strong></h3>
<pre class="r"><code>library(rgdal)
library(rgeos)
library(tmap)
library(leaflet)
library(RColorBrewer)</code></pre>
<p><br></p>
</div>
<div id="section-load-the-income-data-by-different-levels-of-analysis" class="section level3">
<h3><strong>Load the Income data by different levels of analysis</strong></h3>
<pre class="r"><code>Census.DataCount &lt;- read.csv(&quot;./county-level/ACS_15_5YR_DP03_with_ann.csv&quot;)
Census.DataTract &lt;- read.csv(&quot;./tract-level/ACS_15_5YR_DP03_with_ann.csv&quot;)

head(Census.DataCount)
head(Census.DataTract)</code></pre>
<p><br></p>
</div>
<div id="section-subset-the-income-data-sets" class="section level3">
<h3><strong>Subset the Income data sets</strong></h3>
<p>Looking up the head part of each data set, I found out that there were too many variable fields. Looking carefully at the description of each variable field, I noticed that the “HC01_VC85” field represents the median income, and the “HC01_VC86” field represents the average income and made the subset by selecting these two columns as well as the unique ID numbers. After making subsets of those two variables, I renamed those two variables by their actual contents.</p>
<pre class="r"><code>var &lt;- c(&quot;GEO.id2&quot;,&quot;HC01_VC85&quot;, &quot;HC01_VC86&quot;)

Census.SubsetCount &lt;- (Census.DataCount[var])
Census.SubsetTract &lt;- (Census.DataTract[var])

names(Census.SubsetCount)[2:3]&lt;- c(&quot;MedInc15&quot;, &quot;AgInc15&quot;)
names(Census.SubsetTract)[2:3]&lt;- c(&quot;MedInc15&quot;, &quot;AgInc15&quot;)</code></pre>
<p><br></p>
</div>
<div id="section-load-the-shapefile" class="section level3">
<h3><strong>Load the shapefile</strong></h3>
<p>Before I loaded the shapefiles, I found out that there were two tracts in the tract-level shapefile which actually represented part of Michigan Lake. Therefore, I used GeoDa to tear this part off from tract-level map. There was 3123 elements in the original shapefile, but after tearing off those two tracts, it became 3123 elements.</p>
<pre class="r"><code>Output.AreasCount &lt;- readOGR(&quot;./county-level&quot;, &quot;IL_Counties&quot;)</code></pre>
<pre><code>## OGR data source with driver: ESRI Shapefile 
## Source: &quot;C:\Users\yhth9\Documents\2018.3 Summer\Intro to GIS\Assignment 2\county-level&quot;, layer: &quot;IL_Counties&quot;
## with 102 features
## It has 17 fields
## Integer64 fields read as strings:  ALAND AWATER</code></pre>
<pre class="r"><code>Output.AreasTract &lt;- readOGR(&quot;./tract-level&quot;, &quot;IL_tracts&quot;)</code></pre>
<pre><code>## OGR data source with driver: ESRI Shapefile 
## Source: &quot;C:\Users\yhth9\Documents\2018.3 Summer\Intro to GIS\Assignment 2\tract-level&quot;, layer: &quot;IL_tracts&quot;
## with 3121 features
## It has 12 fields
## Integer64 fields read as strings:  ALAND AWATER</code></pre>
<pre class="r"><code>Output.AreasTractOrg &lt;- readOGR(&quot;./tract-level&quot;, &quot;tl_2015_17_tract&quot;)</code></pre>
<pre><code>## OGR data source with driver: ESRI Shapefile 
## Source: &quot;C:\Users\yhth9\Documents\2018.3 Summer\Intro to GIS\Assignment 2\tract-level&quot;, layer: &quot;tl_2015_17_tract&quot;
## with 3123 features
## It has 12 fields
## Integer64 fields read as strings:  ALAND AWATER</code></pre>
<pre class="r"><code>head(Output.AreasCount)</code></pre>
<pre><code>## class       : SpatialPolygonsDataFrame 
## features    : 6 
## extent      : -91.50727, -87.64512, 38.2363, 40.75761  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0 
## variables   : 17
## names       : STATEFP, COUNTYFP, COUNTYNS, GEOID,   NAME,      NAMELSAD, LSAD, CLASSFP, MTFCC, CSAFP, CBSAFP, METDIVFP, FUNCSTAT,      ALAND,   AWATER, ... 
## min values  :      17,      005, 00424204, 17005,   Bond,   Bond County,   06,      H1, G4020,   145,  14010,       NA,        A, 1212958829, 11012015, ... 
## max values  :      17,      185, 01784833, 17185, Wabash, Wabash County,   06,      H1, G4020,   476,  41180,       NA,        A,  984918652,  7562638, ...</code></pre>
<pre class="r"><code>head(Output.AreasTract)</code></pre>
<pre><code>## class       : SpatialPolygonsDataFrame 
## features    : 6 
## extent      : -90.58262, -87.86163, 41.12052, 41.50505  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0 
## variables   : 12
## names       : STATEFP, COUNTYFP, TRACTCE,       GEOID, NAME,         NAMELSAD, MTFCC, FUNCSTAT,   ALAND, AWATER,    INTPTLAT,     INTPTLON 
## min values  :      17,      091,  011700, 17091011700,  117, Census Tract 117, G5020,        S, 1311567,      0, +41.1294653, -087.8735796 
## max values  :      17,      161,  023100, 17161023100,  231, Census Tract 231, G5020,        S, 4680288,  66115, +41.4990973, -090.5722031</code></pre>
<pre class="r"><code>head(Output.AreasTractOrg)</code></pre>
<pre><code>## class       : SpatialPolygonsDataFrame 
## features    : 6 
## extent      : -90.58262, -87.86163, 41.12052, 41.50505  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0 
## variables   : 12
## names       : STATEFP, COUNTYFP, TRACTCE,       GEOID, NAME,         NAMELSAD, MTFCC, FUNCSTAT,   ALAND, AWATER,    INTPTLAT,     INTPTLON 
## min values  :      17,      091,  011700, 17091011700,  117, Census Tract 117, G5020,        S, 1311567,      0, +41.1294653, -087.8735796 
## max values  :      17,      161,  023100, 17161023100,  231, Census Tract 231, G5020,        S, 4680288,  66115, +41.4990973, -090.5722031</code></pre>
<p><br><br><br></p>
</div>
</div>
<div id="section-data-mergingcleaning" class="section level2">
<h2><strong>Data Merging/Cleaning</strong></h2>
<p><br></p>
<div id="section-merge-data-with-shapefile" class="section level3">
<h3><strong>Merge Data with Shapefile</strong></h3>
<p>By looking up the head part of both files, I noticed that the area ID numbers were written in the “GEO.id2” column in the shapefiles and in the “GEOID” column in the income data. I merged these two data sets by using these column names.</p>
<pre class="r"><code>ILCounty &lt;- merge(Output.AreasCount, Census.SubsetCount, by.x=&quot;GEOID&quot;, by.y=&quot;GEO.id2&quot;)
ILTract &lt;- merge(Output.AreasTract, Census.SubsetTract, by.x=&quot;GEOID&quot;, by.y=&quot;GEO.id2&quot;)

head(ILCounty)</code></pre>
<pre><code>## class       : SpatialPolygonsDataFrame 
## features    : 6 
## extent      : -91.50727, -87.64512, 38.2363, 40.75761  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0 
## variables   : 19
## names       : GEOID, STATEFP, COUNTYFP, COUNTYNS,   NAME,      NAMELSAD, LSAD, CLASSFP, MTFCC, CSAFP, CBSAFP, METDIVFP, FUNCSTAT,      ALAND,   AWATER, ... 
## min values  : 17005,      17,      005, 00424204,   Bond,   Bond County,   06,      H1, G4020,   145,  14010,       NA,        A, 1212958829, 11012015, ... 
## max values  : 17185,      17,      185, 01784833, Wabash, Wabash County,   06,      H1, G4020,   476,  41180,       NA,        A,  984918652,  7562638, ...</code></pre>
<pre class="r"><code>head(ILTract)</code></pre>
<pre><code>## class       : SpatialPolygonsDataFrame 
## features    : 6 
## extent      : -90.58262, -87.86163, 41.12052, 41.50505  (xmin, xmax, ymin, ymax)
## coord. ref. : +proj=longlat +datum=NAD83 +no_defs +ellps=GRS80 +towgs84=0,0,0 
## variables   : 14
## names       :       GEOID, STATEFP, COUNTYFP, TRACTCE, NAME,         NAMELSAD, MTFCC, FUNCSTAT,   ALAND, AWATER,    INTPTLAT,     INTPTLON, MedInc15, AgInc15 
## min values  : 17091011700,      17,      091,  011700,  117, Census Tract 117, G5020,        S, 1311567,      0, +41.1294653, -087.8735796,    24614,   33736 
## max values  : 17161023100,      17,      161,  023100,  231, Census Tract 231, G5020,        S, 4680288,  66115, +41.4990973, -090.5722031,    64571,   86424</code></pre>
<p><br></p>
<p>Before mapping, I checked if the median-income and average-income data were numeric values or not.</p>
<pre class="r"><code>str(ILCounty$MedInc15)</code></pre>
<pre><code>##  Factor w/ 103 levels &quot;27265&quot;,&quot;31980&quot;,..: 48 27 46 91 52 65 74 95 6 61 ...</code></pre>
<pre class="r"><code>str(ILCounty$AgInc15)</code></pre>
<pre><code>##  Factor w/ 103 levels &quot;106298&quot;,&quot;111565&quot;,..: 39 17 32 96 43 58 68 94 12 72 ...</code></pre>
<pre class="r"><code>str(ILTract$MedInc15)</code></pre>
<pre><code>##  Factor w/ 2944 levels &quot;-&quot;,&quot;(X)&quot;,&quot;100022&quot;,..: 1836 1059 2088 2196 1290 479 2047 1586 2080 832 ...</code></pre>
<pre class="r"><code>str(ILTract$AgInc15)</code></pre>
<pre><code>##  Factor w/ 3074 levels &quot;-&quot;,&quot;100071&quot;,&quot;100164&quot;,..: 1827 1386 2801 2741 1507 738 2130 1670 2281 1204 ...</code></pre>
<p><br></p>
<p>I found out that they are factor-type values, so I needed to convert them into numeric values.</p>
<pre class="r"><code>ILCounty$MedInc15 &lt;- as.numeric(as.character(ILCounty$MedInc15))
ILTract$MedInc15 &lt;- as.numeric(as.character(ILTract$MedInc15))

ILCounty$AgInc15 &lt;- as.numeric(as.character(ILCounty$AgInc15))
ILTract$AgInc15 &lt;- as.numeric(as.character(ILTract$AgInc15))</code></pre>
<p><br><br><br></p>
</div>
</div>
<div id="section-mapping" class="section level2">
<h2><strong>Mapping</strong></h2>
<p>First, I Created a map for quick overview.</p>
<pre class="r"><code>qtm(ILCounty, fill=&quot;MedInc15&quot;)</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="r"><code>qtm(ILTract, fill=&quot;MedInc15&quot;)</code></pre>
<pre><code>## Some legend labels were too wide. These labels have been resized to 0.56, 0.52, 0.52, 0.52. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-7-2.png" width="672" /></p>
<pre class="r"><code>qtm(ILCounty, fill=&quot;AgInc15&quot;)</code></pre>
<pre><code>## Some legend labels were too wide. These labels have been resized to 0.65, 0.61. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-7-3.png" width="672" /></p>
<pre class="r"><code>qtm(ILTract, fill=&quot;AgInc15&quot;)</code></pre>
<pre><code>## Some legend labels were too wide. These labels have been resized to 0.52, 0.52, 0.52. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-7-4.png" width="672" /></p>
<p><br></p>
<p>From this quick overview, I realized that while the county-level map seemed to be okay, the tract-level maps showed the variables were concentrated in the intervals between 0 and 100,000. With curiosity about how the variables were naturally clustered, I created another map using natural breaks. I also wanted to change the palette to shape this map aesthetically better. I added border settings since I felt the thick borders disturbed the representation of the northeastern part of Illinois, which was top-right part of the maps.</p>
<pre class="r"><code>tm_shape(ILCounty) + 
  tm_fill(&quot;MedInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;) + tm_borders(lwd = 0.01, alpha = .4)</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>tm_shape(ILTract) + 
  tm_fill(&quot;MedInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;) + tm_borders(lwd = 0.01, alpha = .4)</code></pre>
<pre><code>## Some legend labels were too wide. These labels have been resized to 0.65, 0.60, 0.60, 0.56, 0.52. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
<pre class="r"><code>tm_shape(ILCounty) + 
  tm_fill(&quot;AgInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;) + tm_borders(lwd = 0.01, alpha = .4)</code></pre>
<pre><code>## Some legend labels were too wide. These labels have been resized to 0.65. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-8-3.png" width="672" /></p>
<pre class="r"><code>tm_shape(ILTract) + 
  tm_fill(&quot;AgInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;) + tm_borders(lwd = 0.01, alpha = .4)</code></pre>
<pre><code>## Some legend labels were too wide. These labels have been resized to 0.65, 0.60, 0.56, 0.52, 0.52. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-8-4.png" width="672" /></p>
<p><br></p>
<p>As we see the geographical “distribution” of income-level, I chose the natural break map to see how those variables were geographically clustered. I could see three clusters at top-right, center, and bottom-left part of the map. (I did not specify the number of bins for the assignment.) Then, I changed the title of legend and added a title, a legend, a compass, a scale-bar, and a source credit to each map.</p>
<pre class="r"><code>tm_shape(ILCounty) + 
  tm_fill(&quot;MedInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;, title = &quot;Median Income ($)&quot;) + 
  tm_borders(alpha = .4) +
  tm_compass(position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_scale_bar(width = 0.15, position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_credits(&quot;U.S. Census Bureau, \n2011-2015 American Community Survey \n5-Year Estimates&quot;, align = &quot;right&quot;, size = 0.7) +
  tm_layout(
    outer.margins = 0,
    panel.show = TRUE,
    panel.labels = &quot;County-level Income Distribution (2015)&quot;,
    panel.label.bg.color = &quot;white&quot;,
    legend.position = c(&quot;left&quot;, &quot;bottom&quot;), 
    frame = FALSE)</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<pre class="r"><code>tm_shape(ILTract) + 
  tm_fill(&quot;MedInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;, title = &quot;Median Income ($)&quot;) + 
  tm_borders(lwd = .01, alpha = .4) + 
  tm_compass(position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_scale_bar(width = 0.15, position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_credits(&quot;U.S. Census Bureau, \n2011-2015 American Community Survey \n5-Year Estimates&quot;, align = &quot;right&quot;, size = 0.7) +
  tm_layout(
    panel.show = TRUE,
    panel.labels = &quot;Tract-level Income Distribution (2015)&quot;,
    panel.label.bg.color = &quot;white&quot;,
    legend.position = c(&quot;left&quot;, &quot;bottom&quot;), 
    frame = FALSE)</code></pre>
<pre><code>## Some legend labels were too wide. These labels have been resized to 0.60, 0.56, 0.56, 0.52, 0.49. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-9-2.png" width="672" /></p>
<pre class="r"><code>tm_shape(ILCounty) + 
  tm_fill(&quot;AgInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;, title = &quot;Average Income ($)&quot;) + 
  tm_borders(alpha = .4) + 
  tm_compass(position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_scale_bar(width = 0.15, position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_credits(&quot;U.S. Census Bureau, \n2011-2015 American Community Survey \n5-Year Estimates&quot;, align = &quot;right&quot;, size = 0.7) + 
  tm_layout(
    panel.show = TRUE,
    panel.labels = &quot;County-level Income Distribution (2015)&quot;,
    panel.label.bg.color = &quot;white&quot;,
    legend.position = c(&quot;left&quot;, &quot;bottom&quot;), 
    frame = FALSE)</code></pre>
<pre><code>## Legend labels were too wide. The labels have been resized to 0.65, 0.65, 0.65, 0.65, 0.61. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-9-3.png" width="672" /></p>
<pre class="r"><code>tm_shape(ILTract) + 
  tm_fill(&quot;AgInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;, title = &quot;Average Income ($)&quot;) + 
  tm_borders(lwd = .01, alpha = .4) + 
  tm_compass(position = c(&quot;left&quot;, &quot;top&quot;)) +
  tm_scale_bar(width = 0.15, position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_credits(&quot;U.S. Census Bureau, \n2011-2015 American Community Survey \n5-Year Estimates&quot;, align = &quot;right&quot;, size = 0.7) + 
  tm_layout(
    panel.show = TRUE,
    panel.labels = &quot;Tract-level Income Distribution (2015)&quot;, 
    panel.label.bg.color = &quot;white&quot;,
    legend.position = c(&quot;left&quot;, &quot;bottom&quot;), 
    frame = FALSE)</code></pre>
<pre><code>## Some legend labels were too wide. These labels have been resized to 0.60, 0.56, 0.52, 0.49, 0.49. Increase legend.width (argument of tm_layout) to make the legend wider and therefore the labels larger.</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-9-4.png" width="672" /></p>
<p><br></p>
<p>To make multifacteted maps, I assigned a name to each mapping code and then used those names to arrange the maps. The outcomes of these codes were the final result of this assignment.</p>
<pre class="r"><code>MedIncCount &lt;- tm_shape(ILCounty) + 
  tm_fill(&quot;MedInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;, title = &quot;Median Income ($)&quot;) + 
  tm_borders(alpha = .4) +
  tm_compass(position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_scale_bar(width = 0.15, position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_credits(&quot;U.S. Census Bureau, \n2011-2015 American Community Survey \n5-Year Estimates&quot;, align = &quot;right&quot;, size = 0.7) +
  tm_layout(
    outer.margins = 0,
    panel.show = TRUE,
    panel.labels = &quot;County-level Income Distribution (2015)&quot;,
    panel.label.bg.color = &quot;white&quot;,
    legend.position = c(&quot;left&quot;, &quot;bottom&quot;), 
    frame = FALSE)

MedIncTract &lt;- tm_shape(ILTract) + 
  tm_fill(&quot;MedInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;, title = &quot;Median Income ($)&quot;) + 
  tm_borders(lwd = 0.01, alpha = .4) + 
  tm_compass(position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_scale_bar(width = 0.15, position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_credits(&quot;U.S. Census Bureau, \n2011-2015 American Community Survey \n5-Year Estimates&quot;, align = &quot;right&quot;, size = 0.7) +
  tm_layout(
    panel.show = TRUE,
    panel.labels = &quot;Tract-level Income Distribution (2015)&quot;,
    panel.label.bg.color = &quot;white&quot;,
    legend.position = c(&quot;left&quot;, &quot;bottom&quot;), 
    frame = FALSE)

current.mode &lt;- tmap_mode(&quot;plot&quot;) </code></pre>
<pre><code>## tmap mode set to plotting</code></pre>
<pre class="r"><code>tmap_arrange(MedIncCount, MedIncTract)</code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<pre class="r"><code>AgIncCoun &lt;- tm_shape(ILCounty) + 
  tm_fill(&quot;AgInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;, title = &quot;Average Income ($)&quot;) + 
  tm_borders(alpha = .4) + 
  tm_compass(position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_scale_bar(width = 0.15, position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_credits(&quot;U.S. Census Bureau, \n2011-2015 American Community Survey \n5-Year Estimates&quot;, align = &quot;right&quot;, size = 0.7) + 
  tm_layout(
    panel.show = TRUE,
    panel.labels = &quot;County-level Income Distribution (2015)&quot;,
    panel.label.bg.color = &quot;white&quot;,
    legend.position = c(&quot;left&quot;, &quot;bottom&quot;), 
    frame = FALSE)

AgIncTrac &lt;- tm_shape(ILTract) + 
  tm_fill(&quot;AgInc15&quot;, palette = &quot;BuPu&quot;, style = &quot;jenks&quot;, title = &quot;Average Income ($)&quot;) + 
  tm_borders(lwd = .01, alpha = .4) + 
  tm_compass(position = c(&quot;left&quot;, &quot;top&quot;)) +
  tm_scale_bar(width = 0.15, position = c(&quot;left&quot;, &quot;top&quot;)) + 
  tm_credits(&quot;U.S. Census Bureau, \n2011-2015 American Community Survey \n5-Year Estimates&quot;, align = &quot;right&quot;, size = 0.7) + 
  tm_layout(
    panel.show = TRUE,
    panel.labels = &quot;Tract-level Income Distribution (2015)&quot;, 
    panel.label.bg.color = &quot;white&quot;,
    legend.position = c(&quot;left&quot;, &quot;bottom&quot;), 
    frame = FALSE)

tmap_arrange(AgIncCoun, AgIncTrac) </code></pre>
<p><img src="mapping2-ILInc_files/figure-html/unnamed-chunk-10-2.png" width="672" /></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
